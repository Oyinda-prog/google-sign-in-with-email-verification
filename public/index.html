<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <button id="getGoogle">Click here</button>
  <div id="disp"></div>
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js";
    import { GoogleAuthProvider,getAuth, signInWithPopup,sendEmailVerification} from "https://www.gstatic.com/firebasejs/9.21.0/firebase-auth.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
    //// myModule.js
    //<!-- index.html -->
//<button id="myButton">Click me</button>
//<script type="module" src="myModule.js">

//const myButton = document.getElementById("myButton");
//myButton.onclick = function() {
  //console.log("Button clicked");
//}//

  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyBTY6Z66fmedpI1fT042DYyVSbifl9JUsE",
      authDomain: "my-b0dc6.firebaseapp.com",
      projectId: "my-b0dc6",
      storageBucket: "my-b0dc6.appspot.com",
      messagingSenderId: "626842411625",
      appId: "1:626842411625:web:7be3b29d7bce9752bd78f8"
    };

const provider = new GoogleAuthProvider();
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth();
    document.getElementById("getGoogle").addEventListener("click",()=>{
      signInWithPopup(auth, provider)
      .then((result)=>{ 
        console.log(result)
      let name= result.user.displayName;
      let email=result.user.email;
      let image=result.user.photoURL;
      console.log(name,email,image)
      disp.innerHTML +=`
      <h1>welcome ${name}</h1>`
      sendEmailVerification(auth.currentUser)
                .then(()=>{
                    console.log("Email sent");
                })
                .catch((err)=>{
                    console.log(err);
                })
                window.location.href = "dashboard.html"
      })
      .catch((err)=>{
        console.log(err)
      })
    })

  </script>
</body>
</html>